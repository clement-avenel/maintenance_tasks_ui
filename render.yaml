# Render Blueprint: deploys the dummy Rails app (spec/dummy) to preview the Maintenance Tasks UI.
# See https://render.com/docs/blueprint-spec

services:
  - type: web
    runtime: ruby
    name: maintenance-tasks-ui-dummy
    rootDir: spec/dummy

    buildCommand: |
      bundle install
      bin/rails assets:precompile

    preDeployCommand: bin/rails db:prepare

    startCommand: bin/rails server

    healthCheckPath: /up

    envVars:
      - key: RAILS_ENV
        value: production
      - key: SECRET_KEY_BASE
        generateValue: true
      - key: SOLID_QUEUE_IN_PUMA
        value: "1"
